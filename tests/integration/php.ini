; php.ini for Nette Tester
; =========================
; This configuration is optimized for running Nette Tester tests via the CLI.
; It ensures necessary extensions are loaded and error reporting is maximized.

; =======================
; CORE PHP SETTINGS
; =======================

; Error reporting level: E_ALL is recommended for development and testing
error_reporting = E_ALL

; Display errors to stderr in CLI, which Tester captures
display_errors = stderr
display_startup_errors = On

; Log errors to a file (optional, but good for CI/headless environments)
; error_log = php_errors.log

; Maximum execution time for scripts, in seconds
max_execution_time = 300

; Maximum amount of memory a script may consume (128MB is a common default, 512MB for larger apps)
memory_limit = 512M

; Default timezone (Crucial! Set to your application's timezone)
date.timezone = Europe/Prague

; Disable PHP output buffering for CLI (can interfere with Tester output)
output_buffering = Off

; Enable/disable whether PHP will register PHPs _GET, _POST, _COOKIE, and _SERVER
; (and other) global variables automatically. This is usually Off in modern apps.
variables_order = "GPCS"

; =======================
; FILE UPLOADS
; (Generally not critical for most unit/integration tests, but set to reasonable defaults)
; =======================
file_uploads = On
upload_max_filesize = 128M
post_max_size = 128M

; =======================
; SESSIONS
; (Usually not used directly in CLI tests, but configure for consistency)
; =======================
session.auto_start = 0 ; Sessions should not auto-start in CLI
session.save_path = "/tmp" ; Or a specific path writeable by PHP for session files

; =======================
; OPCACHE
; (Important for CLI: disable for testing/development to avoid caching issues)
; =======================
opcache.enable = 0
opcache.enable_cli = 0

; =======================
; EXTENSIONS
; =======================

; General extensions
extension = pdo
;extension = pdo_mysql
extension = pdo_pgsql
extension = pgsql
;extension = mysqli          ; Often useful for some direct MySQL interactions
extension = dom
extension = tokenizer

; MANDATORY FOR PHPDOTENV AND MODERN LIBS
extension = mbstring        ; Multi-Byte String functions
extension = iconv           ; Character set conversion
; extension=curl          ; For making HTTP requests
; extension=intl          ; Internationalization functions
; extension=exif          ; For reading EXIF data from images
; extension=imagick       ; If you use ImageMagick
; extension=redis         ; If you use Redis
; extension=memcached     ; If you use Memcached